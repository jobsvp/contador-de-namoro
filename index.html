<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Nosso Amor Infinito</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Fonte Roboto -->
  <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
  <style>
    body {
      background: #121212;
      color: #eee;
      font-family: 'Roboto', sans-serif;
      padding: 20px;
    }
    .main-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      background: #1e1e1e;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.5);
    }
    h1 {
      font-size: clamp(2rem, 5vw, 3.5rem);
      color: #ff4081;
      text-shadow: 2px 2px 8px rgba(0,0,0,0.6);
      letter-spacing: 0.05em;
      margin-bottom: 20px;
      font-weight: bold;
    }
    .counter-box {
      background: #1e1e1e;
      border: 2px solid #333;
      border-radius: 10px;
      padding: 20px;
      margin: 20px auto;
      max-width: 600px;
    }
    .counter-box p {
      font-size: 1.2rem;
      margin: 10px 0;
    }
    footer {
      margin-top: 20px;
      font-size: 0.9rem;
      color: #aaa;
    }
    /* Carousel custom */
    .carousel-item img {
      max-height: 400px;
      object-fit: cover;
      width: 100%;
    }
    .carousel-caption {
      background: rgba(0,0,0,0.5);
      padding: 15px;
      border-radius: 5px;
    }
    .carousel-caption h5 {
      font-size: 1.8rem;
      font-weight: bold;
    }
    .carousel-caption p {
      font-size: 1rem;
      margin: 0;
    }
  </style>
</head>
<body>
  <div class="main-container">
    <h1>❤️ Nosso Amor Infinito ❤️</h1>

    <!-- Contadores -->
    <div class="counter-box text-center" id="yearsBox">
      <p><strong id="yearsCount"></strong> de namoro</p>
    </div>
    <div class="counter-box text-center" id="passedBox">
      <p><strong id="totalDays"></strong> dias de amor</p>
      <p><strong id="totalTime"></strong></p>
    </div>
    <div class="counter-box text-center" id="nextAnnivBox">
      <p>Tempo para o próximo aniversário de namoro:</p>
      <p><strong id="nextAnniv"></strong></p>
    </div>

    <!-- Carousel Bootstrap -->
    <div id="amorCarousel" class="carousel slide" data-bs-ride="carousel">
      <div class="carousel-inner">
        <!-- Slide 1: 2022/dez -->
        <div class="carousel-item active">
          <img src="img/2022dez.jpg" class="d-block w-100" alt="2022/dez">
          <div class="carousel-caption d-none d-md-block">
            <h5>2022/dez</h5>
            <p>Nosso primeiro Natal juntos: muita alegria, beijos e abraços quentinhos!</p>
          </div>
        </div>
        <!-- Slide 2: 2023/jan -->
        <div class="carousel-item">
          <img src="img/2023jan.jpg" class="d-block w-100" alt="2023/jan">
          <div class="carousel-caption d-none d-md-block">
            <h5>2023/jan</h5>
            <p>Início de ano, resoluções e muita esperança para o futuro!</p>
          </div>
        </div>
        <!-- Slide 3: 2023/fev -->
        <div class="carousel-item">
          <img src="img/2023fev.jpg" class="d-block w-100" alt="2023/fev">
          <div class="carousel-caption d-none d-md-block">
            <h5>2023/fev</h5>
            <p>Fevereiro de carinho, surpresas e ainda mais cumplicidade.</p>
          </div>
        </div>
        <!-- Slide 4: 2023/mar -->
        <div class="carousel-item">
          <img src="img/2023mar.jpg" class="d-block w-100" alt="2023/mar">
          <div class="carousel-caption d-none d-md-block">
            <h5>2023/mar</h5>
            <p>Mês repleto de aventuras e pequenas loucuras de amor.</p>
          </div>
        </div>
        <!-- Slide 5: 2023/abr -->
        <div class="carousel-item">
          <img src="img/2023abr.jpg" class="d-block w-100" alt="2023/abr">
          <div class="carousel-caption d-none d-md-block">
            <h5>2023/abr</h5>
            <p>Abril nos trouxe desafios superados com união e apoio mútuo.</p>
          </div>
        </div>
        <!-- Slide 6: 2023/mai -->
        <div class="carousel-item">
          <img src="img/2023mai.jpg" class="d-block w-100" alt="2023/mai">
          <div class="carousel-caption d-none d-md-block">
            <h5>2023/mai</h5>
            <p>Curtindo dias ensolarados e planejando um futuro repleto de amor.</p>
          </div>
        </div>
        <!-- Slide 7: 2023/jun -->
        <div class="carousel-item">
          <img src="img/2023jun.jpg" class="d-block w-100" alt="2023/jun">
          <div class="carousel-caption d-none d-md-block">
            <h5>2023/jun</h5>
            <p>Noites de festa, música e a certeza de que somos perfeitos juntos.</p>
          </div>
        </div>
        <!-- Slide 8: 2023/jul -->
        <div class="carousel-item">
          <img src="img/2023jul.jpg" class="d-block w-100" alt="2023/jul">
          <div class="carousel-caption d-none d-md-block">
            <h5>2023/jul</h5>
            <p>Descobrindo novos lugares e provando que nosso amor não tem limites.</p>
          </div>
        </div>
        <!-- Slide 9: 2023/ago -->
        <div class="carousel-item">
          <img src="img/2023ago.jpg" class="d-block w-100" alt="2023/ago">
          <div class="carousel-caption d-none d-md-block">
            <h5>2023/ago</h5>
            <p>Agosto de risadas, abraços e a certeza de um futuro brilhante.</p>
          </div>
        </div>
        <!-- Slide 10: 2023/set -->
        <div class="carousel-item">
          <img src="img/2023set.jpg" class="d-block w-100" alt="2023/set">
          <div class="carousel-caption d-none d-md-block">
            <h5>2023/set</h5>
            <p>Mês de conquistas e de celebrar cada segundo ao seu lado.</p>
          </div>
        </div>
        <!-- Slide 11: 2023/out -->
        <div class="carousel-item">
          <img src="img/2023out.jpg" class="d-block w-100" alt="2023/out">
          <div class="carousel-caption d-none d-md-block">
            <h5>2023/out</h5>
            <p>Outubro inspirador com conversas profundas e laços fortalecidos.</p>
          </div>
        </div>
        <!-- Slide 12: 2023/nov -->
        <div class="carousel-item">
          <img src="img/2023nov.jpg" class="d-block w-100" alt="2023/nov">
          <div class="carousel-caption d-none d-md-block">
            <h5>2023/nov</h5>
            <p>Novembro tranquilo, cheio de cumplicidade e momentos de cinema em casa.</p>
          </div>
        </div>
        <!-- Slide 13: 2023/dez -->
        <div class="carousel-item">
          <img src="img/2023dez.jpg" class="d-block w-100" alt="2023/dez">
          <div class="carousel-caption d-none d-md-block">
            <h5>2023/dez</h5>
            <p>Fim de ano, relembrando cada momento especial que vivemos.</p>
          </div>
        </div>
        <!-- Slide 14: 2024/jan -->
        <div class="carousel-item">
          <img src="img/2024jan.jpg" class="d-block w-100" alt="2024/jan">
          <div class="carousel-caption d-none d-md-block">
            <h5>2024/jan</h5>
            <p>Novo ano, renovando energias e reafirmando nosso compromisso.</p>
          </div>
        </div>
        <!-- Slide 15: 2024/fev -->
        <div class="carousel-item">
          <img src="img/2024fev.jpg" class="d-block w-100" alt="2024/fev">
          <div class="carousel-caption d-none d-md-block">
            <h5>2024/fev</h5>
            <p>Fevereiro com surpresas românticas e muitos sorrisos.</p>
          </div>
        </div>
        <!-- Slide 16: 2024/mar -->
        <div class="carousel-item">
          <img src="img/2024mar.jpg" class="d-block w-100" alt="2024/mar">
          <div class="carousel-caption d-none d-md-block">
            <h5>2024/mar</h5>
            <p>Março cheio de desafios, mas sempre lado a lado.</p>
          </div>
        </div>
        <!-- Slide 17: 2024/abr -->
        <div class="carousel-item">
          <img src="img/2024abr.jpg" class="d-block w-100" alt="2024/abr">
          <div class="carousel-caption d-none d-md-block">
            <h5>2024/abr</h5>
            <p>Vivendo cada instante com intensidade e carinho.</p>
          </div>
        </div>
        <!-- Slide 18: 2024/mai -->
        <div class="carousel-item">
          <img src="img/2024mai.jpg" class="d-block w-100" alt="2024/mai">
          <div class="carousel-caption d-none d-md-block">
            <h5>2024/mai</h5>
            <p>Alegria em dobro: sol, abraços e sonhos que se realizam.</p>
          </div>
        </div>
        <!-- Slide 19: 2024/jun -->
        <div class="carousel-item">
          <img src="img/2024jun.jpg" class="d-block w-100" alt="2024/jun">
          <div class="carousel-caption d-none d-md-block">
            <h5>2024/jun</h5>
            <p>Mês de conquistas e orgulho por cada passo dado juntos.</p>
          </div>
        </div>
        <!-- Slide 20: 2024/jul -->
        <div class="carousel-item">
          <img src="img/2024jul.jpg" class="d-block w-100" alt="2024/jul">
          <div class="carousel-caption d-none d-md-block">
            <h5>2024/jul</h5>
            <p>Curtindo o calor e fortalecendo nosso laço inquebrável.</p>
          </div>
        </div>
        <!-- Slide 21: 2024/ago -->
        <div class="carousel-item">
          <img src="img/2024ago.jpg" class="d-block w-100" alt="2024/ago">
          <div class="carousel-caption d-none d-md-block">
            <h5>2024/ago</h5>
            <p>Agosto: sonhos compartilhados e planos que se concretizam.</p>
          </div>
        </div>
        <!-- Slide 22: 2024/set -->
        <div class="carousel-item">
          <img src="img/2024set.jpg" class="d-block w-100" alt="2024/set">
          <div class="carousel-caption d-none d-md-block">
            <h5>2024/set</h5>
            <p>Setembro repleto de sorrisos e histórias para recordar.</p>
          </div>
        </div>
        <!-- Slide 23: 2024/out -->
        <div class="carousel-item">
          <img src="img/2024out.jpg" class="d-block w-100" alt="2024/out">
          <div class="carousel-caption d-none d-md-block">
            <h5>2024/out</h5>
            <p>Outubro com criatividade, amor e jantares memoráveis.</p>
          </div>
        </div>
        <!-- Slide 24: 2024/nov -->
        <div class="carousel-item">
          <img src="img/2024nov.jpg" class="d-block w-100" alt="2024/nov">
          <div class="carousel-caption d-none d-md-block">
            <h5>2024/nov</h5>
            <p>Novembro: momentos aconchegantes e muita cumplicidade.</p>
          </div>
        </div>
        <!-- Slide 25: 2024/dez -->
        <div class="carousel-item">
          <img src="img/2024dez.jpg" class="d-block w-100" alt="2024/dez">
          <div class="carousel-caption d-none d-md-block">
            <h5>2024/dez</h5>
            <p>Encerrando o ano com gratidão e amor sem fim.</p>
          </div>
        </div>
        <!-- Slide 26: 2025/jan -->
        <div class="carousel-item">
          <img src="img/2025jan.jpg" class="d-block w-100" alt="2025/jan">
          <div class="carousel-caption d-none d-md-block">
            <h5>2025/jan</h5>
            <p>Iniciando 2025 com fé, amor e grandes sonhos!</p>
          </div>
        </div>
        <!-- Slide 27: 2025/fev -->
        <div class="carousel-item">
          <img src="img/2025fev.jpg" class="d-block w-100" alt="2025/fev">
          <div class="carousel-caption d-none d-md-block">
            <h5>2025/fev</h5>
            <p>Fevereiro aconchegante, cultivando amor em cada gesto.</p>
          </div>
        </div>
        <!-- Slide 28: 2025/mar -->
        <div class="carousel-item">
          <img src="img/2025mar.jpg" class="d-block w-100" alt="2025/mar">
          <div class="carousel-caption d-none d-md-block">
            <h5>2025/mar</h5>
            <p>Março com passos firmes rumo ao futuro que sonhamos.</p>
          </div>
        </div>
        <!-- Slide 29: 2025/abr -->
        <div class="carousel-item">
          <img src="img/2025abr.jpg" class="d-block w-100" alt="2025/abr">
          <div class="carousel-caption d-none d-md-block">
            <h5>2025/abr</h5>
            <p>Abril repleto de sorrisos e esperança renovada.</p>
          </div>
        </div>
        <!-- Slide 30: 2025/mai -->
        <div class="carousel-item">
          <img src="img/2025mai.jpg" class="d-block w-100" alt="2025/mai">
          <div class="carousel-caption d-none d-md-block">
            <h5>2025/mai</h5>
            <p>Fechando esse ciclo com a certeza de um amor que só cresce!</p>
          </div>
        </div>
      </div>
      <button class="carousel-button next" type="button" data-bs-target="#amorCarousel" data-bs-slide="next">&#10095;</button>
    </div>

    <!-- ======== Modal: Tela Cheia com Navegação e Apenas Data ======== -->
    <div id="imgModal" class="modal">
      <span class="modal-close" id="closeModal">&times;</span>
      <button class="modal-button modal-button-prev" id="modalPrev">&#10094;</button>
      <button class="modal-button modal-button-next" id="modalNext">&#10095;</button>
      <div class="modal-body">
        <img class="modal-content" id="modalImg" />
        <div class="modal-info" id="modalInfo">
          <p class="modal-date" id="modalDate"></p>
        </div>
      </div>
    </div>

    <footer>Feito com amor para sempre!</footer>
  </div>

  <script>
    /* ========== Lógica do Contador de Namoro ========== */
    const startDate = new Date("2022-12-14T00:00:00");

    function getYearMonthDifference(start, now) {
      let years = now.getFullYear() - start.getFullYear();
      let months = now.getMonth() - start.getMonth();
      if (now.getDate() < start.getDate()) {
        months--;
      }
      if (months < 0) {
        years--;
        months += 12;
      }
      return { years, months };
    }

    function updateCounters() {
      const now = new Date();

      // Anos e meses
      const diff = getYearMonthDifference(startDate, now);
      document.getElementById("yearsCount").textContent =
        `${diff.years} anos e ${diff.months} meses`;

      // Tempo total
      const diffTotal = now - startDate;
      const totalDays = Math.floor(diffTotal / (1000 * 60 * 60 * 24));
      const totalHours = Math.floor((diffTotal % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const totalMinutes = Math.floor((diffTotal % (1000 * 60 * 60)) / (1000 * 60));
      const totalSeconds = Math.floor((diffTotal % (1000 * 60)) / 1000);

      document.getElementById("totalDays").textContent = `${totalDays} dias`;
      document.getElementById("totalTime").textContent =
        `${totalDays} dias, ` +
        `${String(totalHours).padStart(2, '0')} horas, ` +
        `${String(totalMinutes).padStart(2, '0')} minutos, ` +
        `${String(totalSeconds).padStart(2, '0')} segundos`;

      // Próximo aniversário
      let currentAnniv = new Date(now.getFullYear(), startDate.getMonth(), startDate.getDate());
      if (now >= currentAnniv) {
        currentAnniv = new Date(now.getFullYear() + 1, startDate.getMonth(), startDate.getDate());
      }
      const diffNext = currentAnniv - now;
      const daysNext = Math.floor(diffNext / (1000 * 60 * 60 * 24));
      const hoursNext = Math.floor((diffNext % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutesNext = Math.floor((diffNext % (1000 * 60 * 60)) / (1000 * 60));
      const secondsNext = Math.floor((diffNext % (1000 * 60)) / 1000);

      document.getElementById("nextAnniv").textContent =
        `${daysNext} dias, ` +
        `${String(hoursNext).padStart(2, '0')} horas, ` +
        `${String(minutesNext).padStart(2, '0')} minutos, ` +
        `${String(secondsNext).padStart(2, '0')} segundos`;
    }

    setInterval(updateCounters, 1000);
    updateCounters();

    /* ========== Carrossel Responsivo + Swipe ========== */
    function getVisibleCount() {
      if (window.innerWidth < 768) return 1;  
      else if (window.innerWidth < 1024) return 3; 
      else return 5;                            
    }

    const track = document.getElementById("carouselTrack");
    const slides = Array.from(track.children);
    const nextButton = document.querySelector(".carousel-button.next");
    const prevButton = document.querySelector(".carousel-button.prev");
    let currentIndex = 0;

    function updateCarousel() {
      const visibleCount = getVisibleCount();
      const carouselWidth = document.querySelector('.carousel').offsetWidth;
      const slideWidth = carouselWidth / visibleCount;
      track.style.transform = `translateX(-${currentIndex * slideWidth}px)`;
    }

    // Botão "Avançar"
    nextButton.addEventListener('click', () => {
      const visibleCount = getVisibleCount();
      if (currentIndex < slides.length - visibleCount) {
        currentIndex++;
      } else {
        currentIndex = 0;
      }
      updateCarousel();
    });

    // Botão "Voltar"
    prevButton.addEventListener('click', () => {
      const visibleCount = getVisibleCount();
      if (currentIndex > 0) {
        currentIndex--;
      } else {
        currentIndex = slides.length - visibleCount;
      }
      updateCarousel();
    });

    // Auto-play a cada 5 segundos
    setInterval(() => {
      const visibleCount = getVisibleCount();
      if (currentIndex < slides.length - visibleCount) {
        currentIndex++;
      } else {
        currentIndex = 0;
      }
      updateCarousel();
    }, 5000);

    window.addEventListener('resize', updateCarousel);

    // Swipe no celular
    let startX = 0;
    let isDragging = false;

    track.addEventListener('touchstart', (e) => {
      startX = e.touches[0].clientX;
      isDragging = true;
    });
    track.addEventListener('touchmove', (e) => {
      if (!isDragging) return;
    });
    track.addEventListener('touchend', (e) => {
      if (!isDragging) return;
      isDragging = false;
      const endX = e.changedTouches[0].clientX;
      const diff = endX - startX;
      const threshold = 50;
      if (diff > threshold) {
        const visibleCount = getVisibleCount();
        if (currentIndex > 0) {
          currentIndex--;
        } else {
          currentIndex = slides.length - visibleCount;
        }
        updateCarousel();
      } else if (diff < -threshold) {
        const visibleCount = getVisibleCount();
        if (currentIndex < slides.length - visibleCount) {
          currentIndex++;
        } else {
          currentIndex = 0;
        }
        updateCarousel();
      }
    });

    /* ========== Modal para Tela Cheia + Navegação ========== */
    const modal = document.getElementById("imgModal");
    const modalImg = document.getElementById("modalImg");
    const modalDate = document.getElementById("modalDate");
    const closeModal = document.getElementById("closeModal");
    const modalPrev = document.getElementById("modalPrev");
    const modalNext = document.getElementById("modalNext");

    let currentModalIndex = 0; 

    function openModal(index) {
      currentModalIndex = index;
      const slide = slides[currentModalIndex];
      const img = slide.querySelector("img");
      const dateText = slide.querySelector(".carousel-caption").textContent;
      modal.style.display = "flex";
      modalImg.src = img.src; 
      modalDate.textContent = dateText;
    }

    slides.forEach((slide, i) => {
      const img = slide.querySelector("img");
      img.addEventListener("click", () => {
        openModal(i);
      });
    });

    closeModal.addEventListener("click", () => {
      modal.style.display = "none";
    });
    modal.addEventListener("click", (e) => {
      if (e.target === modal) {
        modal.style.display = "none";
      }
    });

    modalPrev.addEventListener("click", (e) => {
      e.stopPropagation();
      if (currentModalIndex > 0) {
        currentModalIndex--;
      } else {
        currentModalIndex = slides.length - 1;
      }
      openModal(currentModalIndex);
    });
    modalNext.addEventListener("click", (e) => {
      e.stopPropagation();
      if (currentModalIndex < slides.length - 1) {
        currentModalIndex++;
      } else {
        currentModalIndex = 0;
      }
      openModal(currentModalIndex);
    });
  </script>
</body>
</html>
